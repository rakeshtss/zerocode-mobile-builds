<header class="row col-12 row">
  <div class="header-leftside col-5 row">
    <div *ngIf="ly.siteConfig.platform == 'mobile'" class="home-btn-back">
      <a routerLink="['/zcbase/account/home']"><i class="icon icon-home-1"></i></a>
    </div>
    <!--
      <div class="col-1 sidebar-toggle">
        <a  fxHide fxShow.lt-sm class="icon-bars " (click)="ly.toggleMenu();"></a>
      </div>
    -->
    <!-- <div class="col">
      <a class="logo" *ngIf="ly.siteConfig.clientLogo">
        <img src="assets/themes/ocoa/images/home-logo.png" alt="Logo" />
      </a>
    </div> -->
    <!-- <div class="ocoa-pagetitle">
      <div fxFlex class="breadcrumb-left" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
        <i *ngIf="ly.backBtn" class="icon-long-left-arrow back-btn" (click)="ly.backClicked()"></i>
        <span>{{ly.pageTitle}}</span>
      </div>
      <div fxFlex class="breadcrumb-right" style="height: 40px;" fxLayout="row" fxLayoutAlign="end center"
        fxLayoutGap="20px"></div>
    </div> -->
  </div>
  <!--
    <div class="col-4">
        <zc-com-render type='app-selection' [options]="{type:'dropdown'}"></zc-com-render>
    </div>
  -->

  <div class="header-rightside">
    <ul>
      <li>
        <div ngbDropdown class="user-details" placement="bottom-right">
          <a class="" id="dropdownBasic1" ngbDropdownToggle>
            <!-- <span class="welcome-user-pic">
              <img src="assets/themes/ocoa/images/user.png" alt="logo">
            </span> -->
            <!-- <span class="welcome-user-pic"
              *ngIf="!(ly.userDetails.addInfo && ly.userDetails.addInfo.pic && ly.userDetails.addInfo.pic.length > 0)">
              <img src="assets/themes/ocoa/images/user.png" alt="logo" />
            </span>
            <span class="welcome-user-pic"
              *ngIf="(ly.userDetails.addInfo && ly.userDetails.addInfo.pic && ly.userDetails.addInfo.pic.length > 0)">
              <img [src]="ly.siteConfig.fileServer + 'get/' +ly.userDetails.addInfo.pic[0]['path']" alt="logo" />
            </span> -->
            <span class="welcome-user-pic"
            *ngIf="!(ly.userDetails.addInfo && ly.userDetails.addInfo.pic && ly.userDetails.addInfo.pic.length > 0)">
            <img src="assets/themes/ocoa/images/user.png" alt="logo" />
          </span>
          <span class="welcome-user-pic"
            *ngIf="(ly.userDetails.addInfo && ly.userDetails.addInfo.pic && ly.userDetails.addInfo.pic.length > 0)">
            <img [src]="ly.siteConfig.fileServer + 'get/' +ly.userDetails.addInfo.pic[0]['path']" alt="logo" />
          </span>
            <div class="welcom-block">
              <span class="welcome pr-1">Welcome / ಸ್ವಾಗತ</span>
              <span class="welcome-user sky-blue"> {{ ly.userDetails.name}}</span>
            </div>
            <span href="javascript:;" class="icon-angle-down"></span>
          </a>

          <div ngbDropdownMenu aria-labelledby="dropdownBasic1" class="user-menu">
            <ul>
              <li class="text-right">
                <div class="user-info">
                  <label *ngIf="ly.userDetails.role?.label">{{ ly.userDetails.role.label}}</label>
                  <label *ngIf="ly.userDetails.addInfo?.branch">{{ ly.userDetails.addInfo.branch?.label}}</label>
                  <label
                    *ngIf="ly.userDetails.phone?.isdCode">{{ly.userDetails.phone?.isdCode}}-{{ly.userDetails.phone?.value}}
                  </label>
                </div>
              </li>
              <ng-container *ngIf="ly.siteConfig && ly.siteConfig.profileLinks.length > 0 ">
                <li *ngFor="let link of ly.siteConfig.profileLinks">
                  <ng-container [ngSwitch]="link.type">
                    <!--
                      <a *ngSwitchCase="external" [href]="link.url" class="dropdown-item" target="link.target">{{link.title}}</a>
                    -->
                    <a *ngSwitchDefault [routerLink]="['/'+link.url]" class="dropdown-item"
                      [target]="link.target">{{link.title}}</a>
                  </ng-container>
                </li>
              </ng-container>
              <!-- <li>
                <button class="dropdown-item" routerLink="user/profile">Profile</button>
              </li> -->
              <li *ngIf="ly.userDetails.role.label == 'Administrator'">
                <button class="dropdown-item" routerLink="/zcbase/account/app-selection">App Selection</button>
              </li>
              <li>
                <button class="dropdown-item" routerLink="/ocoa/user/change-password">Change Password / ಪಾಸ್ವರ್ಡ್ಬದಲಿಸಿ</button>
              </li>
              <li>
                <button class="dropdown-item" (click)="ly.logout()">
                  Logout / ಲಾಗ್ಔಟ್
                </button>
              </li>
            </ul>
          </div>
        </div>
      </li>
    </ul>
    <ul class="alert-icons">
      <li style="position: relative;top: -2px;"> <input type="text" class="tftextinput" name="q" size="21"
          maxlength="120" placeholder="Search"><i class="icon-search"></i></li>
      <li><a href="javascript:;" class="icon-bell-o"></a> <span class="count">3</span></li>
    </ul>
  </div>
</header>

<div class="breadcrumb-widget" fxLayout="row" fxLayoutAlign="space-between center">
  <a href="javascript:;" fxHide fxShow.gt-xs class="icon-bars sidebar-toggle" (click)="ly.toggleMenu();"
    matTooltip="Click to toggle Menu" matTooltipPosition="right">
  </a>
</div>

<div class="side-menu" id="sm-menu" [ngClass]="ly.menuState">
  <a class="logo logo-sidemenu pt-2">
    <img src="assets/themes/ocoa/images/home-logo.png" alt="Logo" />
  </a>
  <zc-com-render type="menu" [options]="{app: ly.currentApp}"></zc-com-render>
  <!--
    <div class="leftnav-logo">
      <a [href]="ly.siteConfig.powerByUrl" target="_blank">
        <span>{{ly.siteConfig.powerByTitle}}</span>
        <img *ngIf="ly.siteConfig.powerByLogo" [src]="ly.siteConfig.powerByLogo" alt="logo" />
      </a>
    </div>
  -->
</div>

<div>
  <div class="main-content" (click)="ly.onOutsideClick();" [ngClass]="ly.menuState">
    <div class="ocoa-pagetitle"  [ngClass]="ly.pageTitle">
      <div class="ocoa-breadcrumb">
        <h2>{{ly.pageTitle}}</h2>
        <ul *ngIf="ly.breadcrumb && ly.breadcrumb.length > 0">
          <li *ngFor="let item of ly.breadcrumb; let _inx = index">
            <span *ngIf="_inx">&nbsp;{{ ' > ' }}</span>
            <span *ngIf="!item.url">
              <span zcBreadcrumb [breadcrumb]="item"></span>
            </span>
            <a *ngIf="item.url" class="bredcrumb-item" [routerLink]="[item.url]" routerLinkActive="router-link-active">
              <span zcBreadcrumb [breadcrumb]="item"></span>
            </a>
          </li>
        </ul>
      </div>
      <div class="btn-back"  *ngIf="ly.backBtn"><i class="icon-long-left-arrow back-btn" (click)="ly.backClicked()"></i>
      </div>
    </div>
    <router-outlet></router-outlet>
  </div>
  <footer>
    <div class="right-footer">
      <ul>
        <li><a>Help</a></li>
        <li><a>Contact</a></li>
        <li><a>privacy Policy</a></li>
        <li><a>Terms & Conditions</a></li>
      </ul>
    </div>
    <div class="leftnav-logo">
      <a href="http://zeroco.de/" target="_blank">
        <div class="d-flex align-items-center">
          <span class="d-block pr-2">{{ly.siteConfig.powerByTitle}}</span>
          <img *ngIf="ly.siteConfig.powerByLogo" [src]="ly.siteConfig.powerByLogo" alt="logo" />
        </div>
      </a>
    </div>
  </footer>
</div>
