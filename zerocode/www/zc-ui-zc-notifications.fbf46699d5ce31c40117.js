(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"2/C2":function(t,i,n){"use strict";n.r(i);var o=n("D57K"),s=n("LoAr"),a=n("WT9V"),e=n("981U"),c=n("05nE"),r=function(){function t(t){this.http=t}return t.prototype.getNotificationList=function(t,i){return this.http.post(t,i).map(function(t){return t})},t=o.c([Object(s.Injectable)({providedIn:"root"}),o.f("design:paramtypes",[c.c])],t)}(),p=function(){function t(t,i,n){this.router=t,this.route=i,this.notificationService=n,this.notifications=[],this.notificationsCount=0,this.appName="zcbase"}return t.prototype.ngOnInit=function(){var t=this;this.route.snapshot.params.app&&(this.appName=this.route.snapshot.params.app),this.allUrl="/"+this.appName+"/account/notification-list",this.notificationUrl="/"+this.appName+"/account/notification-view/",zcGlobal.notificationList=this,this.options.allUrl&&(this.allUrl=this.options.allUrl),this.options.notificationUrl&&(this.notificationUrl=this.options.notificationUrl),this.paramsSubscribe$=this.router.events.subscribe(function(i){i instanceof e.NavigationEnd&&t.notificationsList()}),this.notificationsList()},t.prototype.notificationsList=function(){var t=this,i={rows:5,dynaFilters:[{fieldName:"status",key:"status",value:"unread",matchType:"any"}]};this.notificationService.getNotificationList("zc-notification/notificationList",i).subscribe(function(i){i.success&&(t.notifications=i.data.listData.rows,t.notificationsCount=i.data.listData.records)})},t.prototype.ngOnDestroy=function(){this.paramsSubscribe$&&this.paramsSubscribe$.unsubscribe()},t.prototype.reload=function(){this.ngOnInit()},o.c([Object(s.Input)(),o.f("design:type",Object)],t.prototype,"options",void 0),t=o.c([Object(s.Component)({selector:"zc-notifications",template:n("peEp"),styles:[n("eGZN")]}),o.f("design:paramtypes",[e.Router,e.ActivatedRoute,r])],t)}(),u=n("SHvt");n.d(i,"ZcNotificationModule",function(){return l});var l=function(){function t(){}return t=o.c([Object(s.NgModule)({declarations:[p],imports:[a.CommonModule,e.RouterModule,u.g],exports:[p]})],t)}()},eGZN:function(t,i){t.exports=""},peEp:function(t,i){t.exports='<div ngbDropdown  placement="bottom-right">\n    <a class="icon icon-bell" id="dropdownBasic1" ngbDropdownToggle>\n        <span class="zc-number" *ngIf="notificationsCount > 0">{{notificationsCount}}</span>\n    </a>\n    <div ngbDropdownMenu aria-labelledby="dropdownBasic1">\n        <h4>Notifications</h4>\n        <ul class="zc-notifications-list">\n            <li *ngFor= "let notification of notifications;" [routerLink]="[notificationUrl+notification.uid]"><a> {{notification.subject}}</a></li>\n        </ul>\n        <a class="see-all" [routerLink]="[allUrl]">See All</a>\n    </div>\n</div>\n'}}]);